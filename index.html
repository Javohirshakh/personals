<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Branch Overview</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&display=swap" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
      /* Ensures content is hidden on larger screens */
      @media (min-width: 640px) {
        body::before {
          content: "Please view this design on a mobile device.";
          display: block;
          text-align: center;
          font-size: 24px;
          padding: 20px;
          color: #111418;
        }
        body > * {
          display: none;
        }
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col justify-between bg-gray-50 text-gray-900" style="font-family: Manrope, sans-serif;">
    <header class="bg-white shadow-md p-4 text-center">
      <h1 class="text-2xl font-bold">Branch Overview</h1>
    </header>

    <main class="flex-grow px-4 py-6">
      <div id="branch-list" class="space-y-4">
        <!-- Branch data will be injected here -->
      </div>
    </main>

    <footer class="bg-white p-4 text-center border-t">
      <p class="text-sm text-gray-500">Â© 2024 Your Company</p>
    </footer>

    <script>
      async function fetchBranchData() {
        try {
          const response = await fetch('https://script.google.com/macros/s/AKfycby5jBRVsQ_m1yIgH91coqqppyheCxu1BaxSVgXWPi0LtifBY4ISFfPeG_pu6TQW0fcA6g/exec?route=database');
          const data = await response.json();
          const branchList = document.getElementById('branch-list');
          branchList.innerHTML = '';

          data.forEach(branch => {
            const branchItem = document.createElement('div');
            branchItem.className = 'bg-white shadow-lg rounded-lg p-4 flex items-center justify-between';
            
            branchItem.innerHTML = `
              <div>
                <p class="text-lg font-semibold">${branch.branch}</p>
                <p class="text-sm text-gray-500">${branch.amountOfPersonal} staff members</p>
              </div>
              <div class="text-2xl font-bold text-blue-600">${branch.amountOfPersonal}</div>
            `;
            branchList.appendChild(branchItem);
          });
        } catch (error) {
          console.error('Error fetching branch data:', error);
        }
      }

      fetchBranchData();
    </script>
  </body>
</html>
